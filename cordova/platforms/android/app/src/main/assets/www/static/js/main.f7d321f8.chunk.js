(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{104:function(e,n){},106:function(e,n){},107:function(e,n){},108:function(e,n){},109:function(e,n){},143:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(70),o=t.n(c),i=t(3),u=t(9),l=t(28),s=t(26),f=r.a.createContext([null,function(){}]),m=t(2),d=t(1);function p(){var e=Object(m.a)(["\n    background-color: ",";\n    background: ",";\n    height: 100%;\n    min-height: 100vh;\n"]);return p=function(){return e},e}var v=d.c.main(p(),(function(e){return e.theme.background.color}),(function(e){return e.theme.background.gradient})),h=t(43);function b(){var e=Object(m.a)(["\n    color: ",";\n    font-size: 3rem;\n    text-decoration: none;\n\n    text-align: center;\n    opacity: 0.7;\n    border-bottom: 1px solid transparent;\n    transition: all 200ms ease-in;\n\n    display: flex;\n    align-items: center;\n\n    &.focused,\n    &:focus,\n    &:active,\n    &:hover {\n        opacity: 1;\n\n        border-bottom: 1px solid ",";\n    }\n"]);return b=function(){return e},e}var g=Object(d.c)(l.b)(b(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColor})),E=function(e){var n=Object(a.useRef)(null),t=e.children,c=e.focusKey,o=e.to,i=Object(h.a)(e,["children","focusKey","to"]),l=Object(u.d)({focusKey:c,elementRef:n,onKeyPress:function(e){var t;"Enter"===e.key&&(e.stopPropagation(),n&&n.current&&(null===n||void 0===n||null===(t=n.current)||void 0===t||t.click()))}}).focused;return r.a.createElement(g,Object.assign({ref:n,className:l?"focused":"",to:o},i),t)},y=t(76),x=t.n(y),j=t(77),O=t.n(j),w=t(78),k=t.n(w),K=t(79),N=t.n(K),C=t(80),P=t.n(C),B=t(81),S=t.n(B),L=t(82),F=t.n(L),M=t(83),D=t.n(M);function R(){var e=Object(m.a)(["\n    height: 3rem;\n    margin-right: 1rem;\n"]);return R=function(){return e},e}var A={pi:x.a,popcorn:N.a,videoplayer:S.a,pdf:k.a,download:O.a,television:P.a,radioantenna:F.a,brain:D.a},z=d.c.img(R()),I=function(e){var n=e.type,t=e.className,a=n||"pi";return r.a.createElement(z,{className:t,src:A[a]})},_=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()};function V(){var e=Object(m.a)([""]);return V=function(){return e},e}function U(){var e=Object(m.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n"]);return U=function(){return e},e}function T(){var e=Object(m.a)(["\n    flex: 1;\n    font-weight: 100;\n"]);return T=function(){return e},e}function W(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n"]);return W=function(){return e},e}var $=d.c.div(W()),G=d.c.h1(T()),J=d.c.header(U()),H=Object(d.c)(u.b)(V()),Z=function(e){var n=e.title,t=e.children,c=e.backButton,o=e.showLogo,u=Object(a.useContext)(f),l=Object(i.a)(u,2)[1];return l&&l((function(){return _(n)})),r.a.createElement(H,{focusKey:_(n)},r.a.createElement($,null,r.a.createElement(J,null,o&&r.a.createElement(I,null),r.a.createElement(G,null,n),c&&r.a.createElement(E,{to:"/",focusKey:"back"},"\xd7")),t))};Z.defaultProps={backButton:!1,showLogo:!0};var q=Z;function Q(){var e=Object(m.a)(["\n    color: red;\n"]);return Q=function(){return e},e}var X=d.c.h3(Q());function Y(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-around;\n    height: calc(100vh - 9rem);\n    flex-wrap: wrap;\n\n    .icon {\n        margin: 0 1rem;\n    }\n"]);return Y=function(){return e},e}var ee=d.c.div(Y()),ne=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),l=u[0],s=u[1];return Object(a.useEffect)((function(){fetch("http://192.168.0.22/json").then((function(e){return e.json()})).then((function(e){console.log(e),s(e)})).catch((function(){return c(!0)}))}),[]),r.a.createElement(q,{title:"raspberry pi index"},r.a.createElement(ee,null,t&&r.a.createElement(X,null,"Something went wrong"),l.length>0&&l.map((function(e){return r.a.createElement(E,{key:_(e.name),focusKey:_(e.name),to:"/".concat(e.name)},e.name," ",r.a.createElement(I,{className:"icon",type:"docs"===e.name?"pdf":"videoplayer"}))})),r.a.createElement(E,{focusKey:"services",to:"/services"},"Services ",r.a.createElement(I,{type:"brain"}))))},te=t(42),ae=t.n(te),re=function(e){if(!e)return!1;var n=e.lastIndexOf("."),t=e.substr(n+1).toUpperCase();return["MP4","AVI","MOV","FLV","WMV"].indexOf(t)>-1},ce=function(e){if(!e)return!1;var n=e.lastIndexOf(".");return"PDF"===e.substr(n+1).toUpperCase()},oe=t(24);function ie(){var e=Object(m.a)(["\n    color: ",";\n    font-size: 1rem;\n    background-color: ",";\n    padding: 1rem;\n    word-break: break-word;\n    text-decoration: none;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    box-shadow: ",";\n    &,\n    & * {\n        opacity: 0.7;\n    }\n\n    transition: all 200ms ease-in;\n\n    &.focused,\n    &:focus,\n    &:active,\n    &:hover {\n        box-shadow: ",";\n        opacity: 1;\n        * {\n            opacity: 1;\n        }\n    }\n"]);return ie=function(){return e},e}function ue(){var e=Object(m.a)(["\n    min-height: 200px;\n    margin-top: 1rem;\n    display: flex;\n    flex-direction: row;\n    align-items: flex-end;\n    justify-content: space-between;\n"]);return ue=function(){return e},e}function le(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: flex-end;\n    flex: 1;\n    height: 100%;\n    font-size: 0.8rem;\n    min-width: 5rem;\n"]);return le=function(){return e},e}var se=d.c.div(le()),fe=d.c.div(ue()),me=Object(d.c)(l.b)(ie(),(function(e){return e.theme.textColor}),(function(e){return e.theme.fileBox.backgroundColor}),(function(e){return e.theme.boxShadow.light}),(function(e){return e.theme.boxShadow.intense})),de=function(e){var n,t=e.focusKey,c=e.file,o=e.path,i=Object(a.useRef)(null),l=Object(u.d)({focusKey:t,elementRef:i,onKeyPress:function(e){var n;"Enter"===e.key&&(e.stopPropagation(),i&&i.current&&(null===i||void 0===i||null===(n=i.current)||void 0===n||n.click()))}}).focused,s=null;return ce(c.name)?s=r.a.createElement(oe.Document,{file:"http://192.168.0.22/files/".concat(o,"/").concat(c.name)},r.a.createElement(oe.Page,{pageNumber:1,height:200})):re(c.name)&&(s=r.a.createElement(ae.a,{url:"http://192.168.0.22/files/".concat(o,"/").concat(c.name),width:300,height:200})),r.a.createElement(me,{className:l?"focused":"",to:"/viewer/".concat(o,"/").concat(c.name),ref:i},r.a.createElement("h3",null,c.name),r.a.createElement(fe,null,s,r.a.createElement(se,null,r.a.createElement("p",null,(n=c.mtime,new Date(n).toLocaleDateString())),r.a.createElement("p",null,function(e){var n=Math.abs(e);if(Number.isNaN(n))return"Invalid file size";if(0===n)return"0 bytes";var t=["bytes","kB","MB","GB","TB"],a=Math.floor(Math.log10(n)/3);return a=a<t.length?a:t.length-1,n/=Math.pow(1e3,a),"".concat(+n.toFixed(2)," ").concat(t[a])}(c.size)))))};function pe(){var e=Object(m.a)(["\n    color: ",";\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));\n    grid-gap: 1rem;\n    padding: 1rem;\n"]);return pe=function(){return e},e}var ve=d.c.div(pe(),(function(e){return e.theme.textColor})),he=function(e){var n=e.path,t=Object(a.useState)(!1),c=Object(i.a)(t,2),o=c[0],u=c[1],l=Object(a.useState)([]),s=Object(i.a)(l,2),f=s[0],m=s[1];return Object(a.useEffect)((function(){fetch("http://192.168.0.22/json/".concat(n)).then((function(e){return e.json()})).then((function(e){console.log(e),m(e)})).catch((function(){return u(!0)}))}),[n]),r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(X,null,"Something went wrong"),f.length>0&&r.a.createElement(ve,null,f.map((function(e){return r.a.createElement(de,{key:_(e.name),focusKey:_(e.name),path:n,file:e})}))))};function be(){var e=Object(m.a)(["\n    .react-pdf__Page {\n        position: relative !important;\n        display: flex !important;\n        align-items: center !important;\n        justify-content: center !important;\n    }\n"]);return be=function(){return e},e}var ge=Object(d.c)(q)(be()),Ee=function(e){var n=e.filename,t=e.path,c=Object(a.useState)(0),o=Object(i.a)(c,2),u=o[0],l=o[1],s=Object(a.useState)(1),f=Object(i.a)(s,2),m=f[0],d=f[1],p=Object(a.useCallback)((function(e){if(e instanceof KeyboardEvent)switch(e.key){case"ArrowRight":return void(m<u&&d(m+1));case"ArrowLeft":return void(m>1&&d(m-1))}}),[m,d,u]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",p),function(){return document.removeEventListener("keydown",p)}}),[p]),r.a.createElement(ge,{title:n||"NO_NAME",backButton:!0},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(oe.Document,{file:"http://192.168.0.22/files/".concat(t,"/").concat(n),onLoadSuccess:function(e){var n=e.numPages;l(n)}},r.a.createElement(oe.Page,{className:"center",pageNumber:m,height:700}))))};function ye(){var e=Object(m.a)(["\n    position: relative;\n    width: 90vw;\n    height: 85vh;\n\n    margin: 0 auto;\n"]);return ye=function(){return e},e}var xe=d.c.div(ye()),je=function(e){var n=e.filename,t=e.path,c=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=c.current;return(null===e||void 0===e?void 0:e.getInternalPlayer()).focus(),function(){}}),[c]),r.a.createElement(q,{title:n||"NO_NAME",backButton:!0},r.a.createElement(xe,null,r.a.createElement(ae.a,{ref:c,autoFocus:!0,className:"react-player",url:"http://192.168.0.22/files/".concat(t,"/").concat(n),width:"100%",height:"100%",controls:!0})))},Oe=function(){var e=Object(s.f)(),n=e.path,t=e.filename,a=null;return ce(t)?a=r.a.createElement(Ee,{path:n,filename:t}):re(t)&&(a=r.a.createElement(je,{path:n,filename:t})),a};function we(){var e=Object(m.a)(["\n    color: ",";\n    font-size: 3rem;\n    text-decoration: none;\n\n    text-align: center;\n    opacity: 0.7;\n    border-bottom: 1px solid transparent;\n    transition: all 200ms ease-in;\n\n    display: flex;\n    align-items: center;\n\n    &.focused,\n    &:focus,\n    &:active,\n    &:hover {\n        opacity: 1;\n\n        border-bottom: 1px solid ",";\n    }\n"]);return we=function(){return e},e}var ke=d.c.a(we(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColor})),Ke=function(e){var n=Object(a.useRef)(null),t=e.children,c=e.focusKey,o=e.to,i=Object(h.a)(e,["children","focusKey","to"]),l=Object(u.d)({focusKey:c,elementRef:n,onKeyPress:function(e){var t;"Enter"===e.key&&(e.stopPropagation(),n&&n.current&&(null===n||void 0===n||null===(t=n.current)||void 0===t||t.click()))}}).focused;return r.a.createElement(ke,Object.assign({ref:n,className:l?"focused":"",href:o},i),t)};function Ne(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: space-evenly;\n    height: calc(100vh - 9rem);\n"]);return Ne=function(){return e},e}function Ce(){var e=Object(m.a)(["\n    height: 100%;\n\n    margin: 0 auto;\n\n    .link-text {\n        display: flex;\n        align-items: center;\n        font-size: 2rem;\n    }\n"]);return Ce=function(){return e},e}var Pe=d.c.div(Ce()),Be=d.c.div(Ne()),Se=function(){return r.a.createElement(q,{title:"Other services running",backButton:!0},r.a.createElement(Pe,null,r.a.createElement(Be,null,r.a.createElement(Ke,{focusKey:"kodi",to:"http://192.168.0.22:8080"},r.a.createElement("span",{className:"link-text"},r.a.createElement(I,{type:"popcorn"}),"Kodi")),r.a.createElement(Ke,{focusKey:"tvheadend",to:"http://192.168.0.22:9981/"},r.a.createElement("span",{className:"link-text"},r.a.createElement(I,{type:"television"}),"TVHeadend")),r.a.createElement(Ke,{focusKey:"torrent",to:"http://192.168.0.22:8112/"},r.a.createElement("span",{className:"link-text"},r.a.createElement(I,{type:"download"}),"Delunge")),r.a.createElement(Ke,{focusKey:"iptv",to:"http://192.168.0.22/livetv/"},r.a.createElement("span",{className:"link-text"},r.a.createElement(I,{type:"radioantenna"}),"IP TV files")))))},Le=t(84),Fe=t(85),Me=t.n(Fe),De=t(44),Re=t.n(De);function Ae(){var e=Object(m.a)(["\n  ","\n    \n  ","\n\n  html,body{\n      color: ",";\n  }\n"]);return Ae=function(){return e},e}var ze=Re()(15,15,17),Ie=Re()(13,41,65),_e={background:{color:ze,gradient:"radial-gradient(circle at center bottom, ".concat(ze," 0%, ").concat(Ie," 100%)")},fileBox:{backgroundColor:Re()("white").alpha(.2)},boxShadow:{intense:"10px 10px 5px 0px rgba(0,0,0,0.75);",light:"5px 5px 5px 0px rgba(0,0,0,0.25);"},textColor:"white"},Ve=_e,Ue=Object(d.b)(Ae(),Me.a,Le,_e.textColor);oe.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(oe.pdfjs.version,"/pdf.worker.js");var Te=function(){var e=Object(a.useState)("raspberry-pi-index"),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(u.e)(),m=o.moveFocusLeft,p=o.moveFocusRight,h=o.moveFocusUp,b=o.moveFocusDown,g=Object(a.useCallback)((function(e){if(e instanceof KeyboardEvent)switch(e.key){case"ArrowRight":return void p();case"ArrowLeft":return void m();case"ArrowUp":return void h();case"ArrowDown":return void b();case"Backspace":return void We.setFocus([t,"back"])}}),[m,p,h,b,t]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",g),function(){return document.removeEventListener("keydown",g)}}),[g]),r.a.createElement(l.a,null,r.a.createElement(d.a,{theme:Ve},r.a.createElement(f.Provider,{value:[t,c]},r.a.createElement(v,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(ne,null)),r.a.createElement(s.a,{path:"/videos"},r.a.createElement(q,{title:"Videos list",backButton:!0},r.a.createElement(he,{path:"videos"}))),r.a.createElement(s.a,{path:"/docs"},r.a.createElement(q,{title:"Docs list",backButton:!0},r.a.createElement(he,{path:"docs"}))),r.a.createElement(s.a,{path:"/viewer/:path/:filename"},r.a.createElement(Oe,null)),r.a.createElement(s.a,{path:"/services"},r.a.createElement(Se,null))))),r.a.createElement(Ue,null)))},We=new u.a({initialFocusPath:["raspberry-pi-index","videos"]}),$e=function(){return r.a.createElement(u.c,{focusManager:We},r.a.createElement(Te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement($e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=36},76:function(e,n,t){e.exports=t.p+"static/media/Raspberry_Pi_Logo.4c744181.svg"},77:function(e,n,t){e.exports=t.p+"static/media/download.78c6357f.svg"},78:function(e,n,t){e.exports=t.p+"static/media/pdf.9d15e90e.svg"},79:function(e,n,t){e.exports=t.p+"static/media/popcorn.9b2648a6.svg"},80:function(e,n,t){e.exports=t.p+"static/media/television.de4e7c74.svg"},81:function(e,n,t){e.exports=t.p+"static/media/video-player.ccae19ac.svg"},82:function(e,n,t){e.exports=t.p+"static/media/radio-antenna.261f6c47.svg"},83:function(e,n,t){e.exports=t.p+"static/media/brain.22fd021b.svg"},84:function(e,n,t){},85:function(e,n,t){},87:function(e,n,t){e.exports=t(143)}},[[87,1,2]]]);
//# sourceMappingURL=main.f7d321f8.chunk.js.map